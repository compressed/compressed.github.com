<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Baumans::latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })(); </script>
  <title>Remove &#39;category&#39; Prefix from WordPress | Tech Strings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="og:type" content="blog">
<meta name="og:title" content="Remove 'category' Prefix from WordPress">
<meta name="og:url" content="http://techstrings.com/2012/03/04/remove-category-prefix-wordpress/">
<meta name="og:image">
<meta name="og:site_name" content="Tech Strings">
<meta name="og:description" content="One of the most pesky things I find about the WordPress installation is that for category pages, WordPress adds the &#39;category&#39; prefix to URLs. Sure you can live with the behavior (like here on">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="the_brickster">
  
    <link rel="alternative" href="/atom.xml" title="Tech Strings" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24061158-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tech Strings</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Julia, Javascript, Ruby, Finance, Big Data</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://techstrings.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-remove-category-prefix-wordpress" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/03/04/remove-category-prefix-wordpress/" class="article-date">
  <time datetime="2012-03-04T18:54:00.000Z" itemprop="datePublished">Mar 4 2012</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Remove &#39;category&#39; Prefix from WordPress
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>One of the most pesky things I find about the WordPress installation is that for category pages, WordPress adds the &#39;category&#39; prefix to URLs. Sure you can live with the behavior (like here on Octopress) but for real-world installs, it looks kind of sloppy and unexpected. I originally came up with this technique in 2007, and after looking at the &quot;new and improved&quot; ways of today, I couldn&#39;t find any better options.<a id="more"></a></p>
<p>Some options I looked at:</p>
<ul>
<li>This WordPress <a href="http://wordpress.org/support/topic/how-to-remove-the-category-in-the-link-" target="_blank">support post</a> by <strong>petervcook </strong>says you can change your category base to <em>./</em> and the category prefix will be removed. While this is correct, it will be removed when WordPress generates the links, your category pages won&#39;t load. I didn&#39;t fully investigate why they weren&#39;t loading, but given that post is over four years old and a lot has changed in core since then (including the rewriting mechanism), I don&#39;t think it&#39;s a good solution.</li>
<li>Another option I thought of was to handle rewriting of the URLs at the web server layer: internally rewrite your <em>example.com/sports/</em> to <em>example.com/category/sports/</em>. This solution would work, but it breaks down when you want to display actual pages (read: this is a page not a category!) and when you look to support custom post types.</li>
<li>The most popular &quot;solution&quot; is the Top Level Category Plugin, which has now been reworked for WP 3.1+ into the <a href="http://foliovision.com/seo-tools/wordpress/plugins/fv-top-level-categories" target="_blank">FV Top Level Categories plugin</a>. However, this plugin too messes with how WordPress handles rewrites and if any changes occur, this plugin will most likely break. Additionally, one of the comments points out that when this plugin is enabled, custom post types no longer work (fail!).</li>
<li>Take the <a href="http://techcrunch.com" target="_blank">TechCrunch</a> approach and destroy and notion of category and go full-steam ahead with tags. Sure you can do this, but then you lose the cool category feel! Even TechCrunch is stuck with the <em>/tag/</em> prefix on all their &quot;category&quot; pages.</li>
</ul>
<p>So what&#39;s my answer to this age-old problem? Instead of trying to hack your way through the WordPress rewriting mechanism only to have your code break in some unexpected release when you don&#39;t have time to debug, but need one of the new WordPress features right away, use what WordPress already gives you: pages. You see, pages can display post information too! You just need to tell them how. My technique follows a few basic patterns:</p>
<ul>
<li>For each category you have, add a page with the same &#39;slug&#39; as that category</li>
<li>Write a &#39;page template&#39; that you&#39;ll assign to these pages. The template will handle fetching the posts for the given category. You&#39;ll also want some handling for displaying normal pages, which is pretty simple to do.</li>
</ul>
<p>What benefits does this process have?</p>
<ul>
<li>No need to keep track of WordPress rewriting internals. You use a widely supported basic feature of WordPress: <strong>pages</strong></li>
<li>Custom post types are supported.</li>
</ul>
<h2 id="show-me-the-code">Show Me the Code</h2>
<figure class="highlight php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre><span class="preprocessor">&lt;?php</span>
  <span class="comment">// include this file in your header.php</span>

  <span class="keyword">if</span> (is_page()) {
    <span class="comment">// $is_category_page - true if page is a 'category' page (displays posts), else false</span>
    <span class="variable">$is_category_page</span> = <span class="keyword">false</span>;

    <span class="comment">// if the page content is empty, it's a category page</span>
    <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$post</span>-&gt;post_content)) {
      <span class="variable">$is_category_page</span> = <span class="keyword">true</span>;
    }
  }
<span class="preprocessor">?&gt;</span>
<span class="preprocessor">&lt;?php</span>
  <span class="comment">// page.php - use this file as a controller</span>
  <span class="keyword">include</span> (TEMPLATEPATH .<span class="string">'/header.php'</span>);

  <span class="comment">// if $is_category_page is true, we know our "page", is really a "category"</span>
  <span class="keyword">if</span> (<span class="variable">$is_category_page</span>)
    <span class="comment">// template for your categories</span>
    <span class="keyword">include</span> (TEMPLATEPATH . <span class="string">'/page-category.php'</span>);
  <span class="keyword">else</span>
    <span class="comment">// template for your pages</span>
    <span class="keyword">include</span> (TEMPLATEPATH . <span class="string">'/page-default.php'</span>);

  <span class="comment">// etc..</span>
  <span class="keyword">include</span> (TEMPLATEPATH . <span class="string">'/sidebar.php'</span>);
  <span class="keyword">include</span> (TEMPLATEPATH . <span class="string">'/footer.php'</span>);
<span class="preprocessor">?&gt;</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://techstrings.com/2012/03/04/remove-category-prefix-wordpress/" data-id="n7bdhfgo9ywgu21y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wordpress/">wordpress</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/02/28/realtime-testing-with-julia-gulpjs-zmq/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Introducing jlbox: Realtime Testing with Julia, FactCheck.jl, Gulp.js, and ZMQ
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp.js/">gulp.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jlbox/">jlbox</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/julia/">julia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node.js/">node.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordpress/">wordpress</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zmq/">zmq</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/gulp.js/" style="font-size: NaNpx;">gulp.js</a><a href="/tags/javascript/" style="font-size: NaNpx;">javascript</a><a href="/tags/jlbox/" style="font-size: NaNpx;">jlbox</a><a href="/tags/julia/" style="font-size: NaNpx;">julia</a><a href="/tags/node.js/" style="font-size: NaNpx;">node.js</a><a href="/tags/php/" style="font-size: NaNpx;">php</a><a href="/tags/wordpress/" style="font-size: NaNpx;">wordpress</a><a href="/tags/zmq/" style="font-size: NaNpx;">zmq</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02">February 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03">March 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/02/28/realtime-testing-with-julia-gulpjs-zmq/">Introducing jlbox: Realtime Testing with Julia, FactCheck.jl, Gulp.js, and ZMQ</a>
          </li>
        
          <li>
            <a href="/2012/03/04/remove-category-prefix-wordpress/">Remove &#39;category&#39; Prefix from WordPress</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 Christopher Brickley<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>
  </div>
</body>
</html>